<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>用户中心</title>
    <th:block th:include="common/common_resource :: resources"/>
    <link th:remove="all" href="../../static/css/bootstrap-3.1.1.min.css"
          rel="stylesheet"/>
    <link th:href="@{/css/fleamarket/user_center.css}" href="../../static/css/fleamarket/user_center.css"
          rel="stylesheet"/>
    <!-- 相册js引入 -->
    <script src="../../static/js/ekko-lightbox.min.js" th:src="@{/js/ekko-lightbox.min.js}"></script>
    <script th:inline="javascript">
        var type = /*[[${type}]]*/'';
        var city = /*[[${session.user.city}]]*/'';
        var school = /*[[${session.user.school}]]*/'';
    </script>
    <!-- 引入bootstrap fileinput -->
    <link th:href="@{/plugins/fileinput/css/fileinput.css}" href="../../static/plugins/fileinput/css/fileinput.css"
          rel="stylesheet"/>
    <script th:src="@{/js/fleamarket/user/user_center.js}"
            src="../../static/js/fleamarket/user/user_center.js"></script>
    <script th:src="@{/plugins/fileinput/js/fileinput.js}"
            src="../../static/plugins/fileinput/js/fileinput.js"></script>
    <script th:src="@{/plugins/fileinput/js/locales/zh.js}"
            src="../../static/plugins/fileinput/js/locales/zh.js"></script>
</head>
<body>
<th:block th:include="common/header::nav"/>
<div class="listings-title">
    <div class="container">
        <div class="wrap-title">
            <h1>My Account</h1>
            <div class="bread">
                <div class="breadcrumbs theme-clearfix">
                    <div class="container">
                        <ul class="breadcrumb">
                            <li>
                                <a href="#">Home</a>
                                <span class="go-page"></span>
                            </li>

                            <li class="active">
                                <span>My account</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="grid_3">
    <div class="container">
        <div class="col-md-3 col_5">
            <div class="menu">
                <div class="photo-message">
                    <div class="img-div" data-toggle="modal" data-target="#myImg">
                        <img id="head-sculpture" th:src="@{/images/1.jpg}" class="img-circle"  src="../../static/images/1.jpg">
                    </div>
                    <div class="short-message">
                        <a>看云水漂流</a>
                    </div>
                    <div class="short-message">
                        <p>ID：10000001</p>
                    </div>
                    <div class="short-message">
                        <p>牵手币余额：<span style="color: #ff8e42">50</span></p>
                    </div>
                </div>
                <div class="list-group panel-message" id="left_list">
                    <a role="tab" class="list-group-item left-pane" href="#basicPanel" id="basic-tab" data-toggle="tab"
                       aria-controls="basicPanel">基本资料</a>
                    <a role="tab" class="list-group-item left-pane" href="#morePanel" id="more-tab" data-toggle="tab"
                       aria-controls="morePanel">详细资料</a>
                    <a role="tab" class="list-group-item left-pane" href="#photoPanel" id="photo-tab" data-toggle="tab"
                       aria-controls="photoPanel">我的相册</a>
                    <a role="tab" class="list-group-item left-pane" href="#identityPanel" id="identity-tab" data-toggle="tab"
                       aria-controls="identityPanel">身份认证</a>
                    <a role="tab" class="list-group-item left-pane" href="#settingPanel" id="setting-tab" data-toggle="tab"
                       aria-controls="otherPanel">系统设置</a>
                </div>
            </div>
        </div>
        <div id="mytab" class="col-md-9 tab-content tab-big">
            <div id="basicPanel" class="tab-pane active">
                <br>
                <div class="message_header">
                    <h3>个人基本信息</h3>
                </div>
                <div class="message_main" style="height: auto;">
                    <form id="form-user-basic" class="basic_message_form">
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">用户名：</label>
                            <input type="hidden" name="id" th:value="${session.user.id}">
                            <input id="username" name="username" class="col-md-4 form-control message_main_input"
                                   th:value="${session.user.username}" disabled>
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">昵称：</label>
                            <input id="nickname" name="nickname" class="col-md-4 form-control message_main_input"
                                   th:value="${session.user.nickname}">
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">手机号：</label>
                            <input id="tel" name="tel" class="col-md-4 form-control message_main_input"
                                   th:value="${session.user.tel}">
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">性别：</label>
                            <input type="radio" name="sex" class="message_main_input"
                                   th:checked="${session.user.sex == '男'}">男&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <input type="radio" name="sex" class="message_main_input"
                                   th:checked="${session.user.sex == '女'}">女
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">邮箱：</label>
                            <input id="email" name="email" class="col-md-4 form-control message_main_input"
                                   th:value="${session.user.email}">
                        </div>

                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">生日：</label>
                            <input type="date" id="birthday" name="birthday" class="col-md-4 form-control message_main_input"
                                   th:value="${session.user.birthday}">
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">所在城市：</label>
                            <div class="col-md-4" style="padding: 0px">
                                <select name="work_province" id="work_province"
                                        class="form-control select-control double-control">
                                    <option value="-1">请选择</option>
                                </select>
                                <select name="work_city" id="work_city"
                                        class="form-control select-control double-control" style="float: right">
                                    <option value="-1">请选择</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">学校：</label>
                            <div class="col-md-4" style="padding: 0px">
                                <select name="school-province" id="school-province"
                                        class="form-control select-control double-control">
                                    <option value="-1">请选择</option>
                                    <option value="北京">北京</option>
                                    <option value="青岛">青岛</option>
                                    <option value="上海">上海</option>
                                </select>
                                <select name="school-name" id="school-name"
                                        class="form-control select-control double-control" style="float: right">
                                    <option value="-1">请选择</option>
                                    <option value="北京大学">北京大学</option>
                                    <option value="青岛大学">青岛大学</option>
                                    <option value="上海海事">上海海事</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-6 text-right">
                                <input class="btn btn-primary" type="submit" value="提交" style="margin: 10px"/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div id="morePanel" class="tab-pane">
                <br>
                <div class="message_header">
                    <h3>详细资料</h3>
                </div>
                <div class="message_main">
                    <form class="more_message" id="form-user-detail">
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">体重：</label>
                            <input type="hidden" name="id">
                            <input id="weight" name="weight" class="col-md-4 form-control message_main_input">
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">生肖：</label>
                            <div class="col-md-4" style="padding: 0px">
                                <select name="animal" id="animal" class="form-control select-control">
                                    <option value="-1">请选择</option>
                                    <option value="鼠">鼠</option>
                                    <option value="牛">牛</option>
                                    <option value="虎">虎</option>
                                    <option value="兔">兔</option>
                                    <option value="龙">龙</option>
                                    <option value="蛇">蛇</option>
                                    <option value="马">马</option>
                                    <option value="羊">羊</option>
                                    <option value="猴">猴</option>
                                    <option value="鸡">鸡</option>
                                    <option value="狗">狗</option>
                                    <option value="猪">猪</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group message_group">
                            <label class="col-md-3 control-label message-lable text-right">信仰：</label>
                            <div class="col-md-4" style="padding: 0px">
                                <select name="religion" id="religion" class="form-control select-control">
                                    <option value="-1">请选择</option>
                                    <option value="不信教">不信教</option>
                                    <option value="佛教">佛教</option>
                                    <option value="道教">道教</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group message_group ">
                            <div class="col-md-12 text-center">
                                <input class="btn btn-primary " type="submit" value="提交" style="margin: 10px"/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div id="photoPanel" class="tab-pane">
                <br>
                <div class="row">
                    <h3 class="col-md-8">我的相册</h3>
                    <!--<div id="max-upload" class="col-md-2 text-left">-->
                        <!--<button class="btn btn-default" disabled-->
                                <!--style="color: orangered">最多上传9张-->
                        <!--</button>-->
                    <!--</div>-->
                    <div id="min-upload" class="col-md-2 text-left">
                        <button class="btn btn-default" data-toggle="modal" data-target="#myModal"
                                style="color: orangered">图片上传
                        </button>
                    </div>
                </div>
                <div class="row" style="margin: 10px 10px">
                    <div class="input-group">
                        <span class="input-group-addon">选择您的宝贝：</span>
                        <select id="treasure-select" class="form-control">
                            <option value="0"></option>
                            <option th:value="${treasure.id}" th:each="treasure : ${treasures}" th:text="${treasure.title}"></option>
                        </select>
                    </div>
                </div>
                <div id="photodiv" class="row">
                    <section id="gallery">
                        <div class="container-fluid">
                            <div id="photoContent" style="padding: 60px">
                                 <!--主图-->
                                <div class="photo-single" id="main-pic">
                                    <a data-toggle="lightbox" data-gallery="sigma-gallery"
                                       data-title="Image Title 01">
                                        <img class="img-fluid sigmapad">
                                    </a>
                                    <div class="submit inline-block">0
                                        <button disabled class="hvr-wobble-vertical set-photo-btn">主图片</button>
                                    </div>
                                </div>
                                <!--其他图片-->
                                <div th:each="picture,pStat:${pictures}" class="photo-single" th:id="${'picture-single-'+picture.id}">
                                    <a th:href="@{/file(path=${picture.picture})}"
                                       data-toggle="lightbox" data-gallery="sigma-gallery"
                                       data-title="Image Title 01">
                                        <img th:src="@{/file(path=${picture.picture})}" class="img-fluid sigmapad">
                                        <a th:id="${'picture-del-'+picture.id}" class="photo-del"><i
                                                class="fa fa-times"></i></a>
                                    </a>
                                    <div class="submit inline-block">
                                        <button th:id="${'picture-btn-'+picture.id}" class="hvr-wobble-vertical set-photo-btn">设为主图</button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div id="identityPanel" class="tab-pane">
                <!--<br>-->
                <!--<div class="message_header">-->
                    <!--<h3>身份认证</h3>-->
                <!--</div>-->
                <!--<div th:if="${session.user.authenticated}" class="ident_auth">-->
                    <!--<span  style="font-size: 25px"-->
                        <!--class="col-md-12 text-center">您已经认证过！</span>-->
                <!--</div>-->

                <!--<div th:if="${!session.user.authenticated}">-->
                    <!--<form class="more_message" id="form-user-comfirm">-->
                        <!--<div class="form-group message_group">-->
                            <!--<label class="col-md-3 control-label message-lable text-right">真实姓名：</label>-->
                            <!--<input type="hidden" name="id" th:value="${session.user.id}">-->
                            <!--<input th:disabled="${session.user.authenticated}" id="comfirm_realname" name="realname"-->
                                   <!--class="col-md-4 form-control message_main_input">-->
                        <!--</div>-->
                        <!--<div class="form-group message_group">-->
                            <!--<label class="col-md-3 control-label message-lable text-right">身份证号：</label>-->
                            <!--<input th:disabled="${session.user.authenticated}" id="comfirm_cardnumber" name="cardnumber"-->
                                   <!--class="col-md-4 form-control message_main_input">-->
                        <!--</div>-->
                        <!--<div class="form-group message_group ">-->
                            <!--<div class="col-md-7 text-center">-->
                                <!--<input class="btn btn-primary" th:disabled="${session.user.authenticated}" type="submit"-->
                                       <!--value="提交" style="margin: 10px"/>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</form>-->
                <!--</div>-->
            </div>
            <div id="settingPanel" class="tab-pane">
                <br>
                <div class="message_header">
                    <h3>系统设置</h3>
                </div>
                <div class="bs-example bs-example-tabs" role="tabpanel" data-example-id="togglable-tabs">
                    <div class="bs-example bs-example-tabs" role="tabpanel" data-example-id="togglable-tabs">
                        <ul id="Tab" class="nav nav-tabs nav-tabs1" role="tablist">
                            <li role="presentation" class="active"><a href="#modify_password" id="password-tab"
                                                                      role="tab" data-toggle="tab"
                                                                      aria-controls="modify_password"
                                                                      aria-expanded="true">修改密码</a></li>
                            <li role="presentation"><a href="#profile1" role="tab" id="profile-tab1" data-toggle="tab"
                                                       aria-controls="profile1">权限设置</a></li>
                        </ul>
                        <div id="myTabContent" class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="modify_password"
                                 aria-labelledby="modify_password">
                                <div class="tab_box">
                                    <form id="form-reset-pwd" class="form-horizontal">
                                        <div class="form-group">
                                            <label for="newpwd" class="col-md-4 control-label message-lable text-right">密码：</label>
                                            <div class="col-md-4">
                                                <input type="hidden" name="id" th:value="${session.user.id}">
                                                <input type="password" name="newpwd" id="newpwd" class="form-control">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="password"
                                                   class="col-md-4 control-label message-lable text-right">确认密码：</label>
                                            <div class="col-md-4">
                                                <input type="password" name="password" id="password"
                                                       class="col-md-9 form-control">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-12 text-center">
                                                <input class="btn btn-primary" type="submit" value="提交"
                                                       style="margin: 10px"/>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

<!--页面尾部-->
<th:block th:include="common/footer::nav"/>

<!-- 图片上传 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">请选择要上传的照片</h4>
            </div>
            <div class="modal-body">
                <form enctype="multipart/form-data">
                    <div class="form-group">
                        <div class="file-loading">
                            <input id="file-1" type="file" name="photos" multiple class="file"
                                   data-overwrite-initial="false">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">完成</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<!-- 头像上传 模态框（Modal） -->
<div class="modal fade" id="myImg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myImgModalLabel">请选择要上传的头像</h4>
            </div>
            <div class="modal-body">
                <form enctype="multipart/form-data">
                    <div class="form-group">
                        <div class="file-loading">
                            <input id="img" type="file" name="photo"  class="file"
                                   data-overwrite-initial="false">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">完成</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

</body>
</html>	